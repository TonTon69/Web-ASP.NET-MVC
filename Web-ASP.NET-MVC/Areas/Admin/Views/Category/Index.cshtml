@using Web_ASP.NET_MVC.Models
@using PagedList.Mvc;
@model PagedList.PagedList<Web_ASP.NET_MVC.Models.ProductCetegory>


@*Thuộc tính mô tả nội dung quá dài, do đó sẽ sử dụng một Helper HTML tùy chỉnh cho phép dễ dàng cắt những thuộc tính này với độ dài phù hợp.*@
@helper Truncate(string input, int length)
{
    if (input.Length < length)
    {
        @input
    }
    else
    {
        @input.Substring(0, length)<text>...</text>
    }
}

@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}

<h2>Quản Lý Thông Tin Thể Loại</h2>
<div class="d-flex">
    <p class="mr-4">
        <i class="fas fa-plus"></i>
        @Html.ActionLink("Thêm mới", "Create")
    </p>
    <p>
        <i class="fas fa-file-excel"></i>
        @Html.ActionLink("Xuất Excel", "ExportContentToExcel")
    </p>
</div>
<table class="table">
    <tr>
        <th>ID</th>
        <th>Tên</th>
        <th>MetaTitle</th>
        <th>DisplayOrder</th>
        <th>SeoTitle</th>
        <th>ShowOnHome</th>
        <th>Ngày khởi tạo</th>
        <th>Được tạo bởi</th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.CategoryID)
            </td>
            <td style="width: 200px">
                @Html.DisplayFor(modelItem => item.Name)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.MetaTitle)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DisplayOrder)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.SeoTitle)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ShowOnHome)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CreateDate)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CreateBy)
            </td>
            <td>
                @Html.ActionLink("Sửa", "Edit", new
                {
                    id = item.CategoryID
                }, new { @class = "btn btn-primary" })
                @Html.ActionLink("Chi tiết", "Details", new { id = item.CategoryID }, new { @class = "btn btn-secondary" })
                @Html.ActionLink("Xóa", "Delete", new { id = item.CategoryID }, new { @class = "btn btn-danger" })
            </td>
        </tr>
    }

</table>

<style>
    .pagination li {
        padding: 6px 12px;
        border: 1px solid rgba(0,0,0,0.1);
    }
</style>


<div class="col-md-12">
    Trang @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber)/@Model.PageCount :
    <div class="pagination d-flex justify-content-center">
        @Html.PagedListPager(Model, page => Url.Action("Index", new { page = page }))
    </div>
</div>


